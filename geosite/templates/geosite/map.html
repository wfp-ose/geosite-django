{% extends "base.html" %}
{% load sparc2_tags %}
{% block extra_head %}
<script>
  var map_config = {{ map_config_json|safe }};
</script>
{% endblock %}

{% block init %}
<script type="text/javascript" language="Javascript">
    $(function(){
        init_start("mainApp");
    });
</script>
{% endblock %}

{% block content %}
<div class="container-fluid">
    {%block header %}{% endheader %}
    <div
      id="sparc-main"
      class="row sparc-row sparc-main sparc-controller"
      ng-controller="sparc-main"
      data-controller-name="sparc-main"
      data-controller-type="sparc-main">
      {% include "geosite/_includes/sidebar.html" %}
      <div
        id="sparc-map"
        class="row sparc-row sparc-map sparc-controller"
        ng-controller="sparc-map"
        data-controller-name="sparc-map"
        data-controller-type="sparc-map">
        {% block map_controllers %}
        {% include "geosite/_includes/map_legend.html" %}
        {% include "geosite/_includes/map_sidebar_toggle.html" %}
        {% include "geosite/_includes/map_calendar.html" %}
        {% endblock %}
        <div id="map"
          class="sparc-controller sparc-map-map"
          ng-controller="sparc-map-map"
          data-controller-name="sparc-map-map"
          data-controller-type="sparc-map-map">
        </div>
      </div>
    </div>
    {% block footer %}{% endblock %}
</div>
{% block extra_content %}{% endblock %}
{% endblock %}
